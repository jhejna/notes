<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="My notes on things."><meta name=author content="Joey Hejna"><link href=http://joeyhejna.com/notes/programming/python/1objectmodel/ rel=canonical><link rel=icon href=../../../assets/images/favicon.png><meta name=generator content="mkdocs-1.2.3, mkdocs-material-8.1.3"><title>1. The Object Model - Notes</title><link rel=stylesheet href=../../../assets/stylesheets/main.edf004c2.min.css><link rel=stylesheet href=../../../assets/stylesheets/palette.e6a45f82.min.css><meta name=theme-color content=#4051b5><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><script>__md_scope=new URL("../../..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme data-md-color-primary=indigo data-md-color-accent=light-blue> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#1-the-object-model class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../../.. title=Notes class="md-header__button md-logo" aria-label=Notes data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m14.6 16.6 4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4m-5.2 0L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4z"/></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Notes </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> 1. The Object Model </span> </div> </div> </div> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../.. title=Notes class="md-nav__button md-logo" aria-label=Notes data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m14.6 16.6 4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4m-5.2 0L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4z"/></svg> </a> Notes </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../.. class=md-nav__link> Home </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2 type=checkbox id=__nav_2 checked> <label class=md-nav__link for=__nav_2> Programming <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Programming data-md-level=1> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Programming </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_1 type=checkbox id=__nav_2_1 checked> <label class=md-nav__link for=__nav_2_1> Python <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Python data-md-level=2> <label class=md-nav__title for=__nav_2_1> <span class="md-nav__icon md-icon"></span> Python </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../ class=md-nav__link> 0. About Python </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> 1. The Object Model <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> 1. The Object Model </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#typing class=md-nav__link> Typing </a> <nav class=md-nav aria-label=Typing> <ul class=md-nav__list> <li class=md-nav__item> <a href=#none class=md-nav__link> None </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#how-objects-store-values class=md-nav__link> How objects store values </a> <nav class=md-nav aria-label="How objects store values"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#__dict__ class=md-nav__link> __dict__ </a> </li> <li class=md-nav__item> <a href=#getters-and-setters class=md-nav__link> Getters and Setters. </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#mutable-vs-immutable-objects class=md-nav__link> Mutable vs Immutable Objects </a> <nav class=md-nav aria-label="Mutable vs Immutable Objects"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#is-vs class=md-nav__link> is vs == </a> </li> <li class=md-nav__item> <a href=#a-tricky-example class=md-nav__link> A Tricky Example </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#type-casting-in-python class=md-nav__link> Type Casting In Python </a> </li> <li class=md-nav__item> <a href=#special-object-functions-and-operators class=md-nav__link> Special Object Functions and Operators </a> </li> <li class=md-nav__item> <a href=#sources-and-further-reading class=md-nav__link> Sources and Further Reading </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../2syntax/ class=md-nav__link> 2. Syntax </a> </li> <li class=md-nav__item> <a href=../3functions/ class=md-nav__link> 3. Functions </a> </li> <li class=md-nav__item> <a href=../4datastructures/ class=md-nav__link> 3. Data Structures </a> </li> <li class=md-nav__item> <a href=../5oop/ class=md-nav__link> 5. Object Oriented Programming </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#typing class=md-nav__link> Typing </a> <nav class=md-nav aria-label=Typing> <ul class=md-nav__list> <li class=md-nav__item> <a href=#none class=md-nav__link> None </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#how-objects-store-values class=md-nav__link> How objects store values </a> <nav class=md-nav aria-label="How objects store values"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#__dict__ class=md-nav__link> __dict__ </a> </li> <li class=md-nav__item> <a href=#getters-and-setters class=md-nav__link> Getters and Setters. </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#mutable-vs-immutable-objects class=md-nav__link> Mutable vs Immutable Objects </a> <nav class=md-nav aria-label="Mutable vs Immutable Objects"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#is-vs class=md-nav__link> is vs == </a> </li> <li class=md-nav__item> <a href=#a-tricky-example class=md-nav__link> A Tricky Example </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#type-casting-in-python class=md-nav__link> Type Casting In Python </a> </li> <li class=md-nav__item> <a href=#special-object-functions-and-operators class=md-nav__link> Special Object Functions and Operators </a> </li> <li class=md-nav__item> <a href=#sources-and-further-reading class=md-nav__link> Sources and Further Reading </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=1-the-object-model>1. The Object Model<a class=headerlink href=#1-the-object-model title="Permanent link">&para;</a></h1> <p>This section details the underpinnings of the Python language. It's possible to be a talented Python programmer without knowing any of the details presented in this section, but know them provides a fundamental understanding of the language.</p> <p>Essentially, everything in python is an object. Every variable you make is an object, every operation you execute is between objects. Seriously. <code>int</code>, <code>float</code>, functions, and anything else you can thing of: all objects that inherit from python's base object class, unsurprisingly named <code>object</code>. What does this mean? In python, primitive data types are in fact not very primitive at all, and are instead feature rich in comparison to their counterparts in lower level languages. </p> <p>Let's explore this a little bit by just looking at an integer. We'll create an <code>int</code>, then see what attributes it has by calling the <code>dir</code> function. When <code>dir</code> is called on an object, it recursively searches all the attributes of the argument and it's parents or base classes. <div class=highlight><pre><span></span><code>&gt;&gt;&gt; n = 1
&gt;&gt;&gt; dir(n)
[&#39;__abs__&#39;, &#39;__add__&#39;, &#39;__and__&#39;, &#39;__bool__&#39;, &#39;__ceil__&#39;, &#39;__class__&#39;, &#39;__delattr__&#39;, &#39;__dir__&#39;, &#39;__divmod__&#39;, &#39;__doc__&#39;, &#39;__eq__&#39;, &#39;__float__&#39;, &#39;__floor__&#39;, &#39;__floordiv__&#39;, &#39;__format__&#39;, &#39;__ge__&#39;, &#39;__getattribute__&#39;, &#39;__getnewargs__&#39;, &#39;__gt__&#39;, &#39;__hash__&#39;, &#39;__index__&#39;, &#39;__init__&#39;, &#39;__init_subclass__&#39;, &#39;__int__&#39;, &#39;__invert__&#39;, &#39;__le__&#39;, &#39;__lshift__&#39;, &#39;__lt__&#39;, &#39;__mod__&#39;, &#39;__mul__&#39;, &#39;__ne__&#39;, &#39;__neg__&#39;, &#39;__new__&#39;, &#39;__or__&#39;, &#39;__pos__&#39;, &#39;__pow__&#39;, &#39;__radd__&#39;, &#39;__rand__&#39;, &#39;__rdivmod__&#39;, &#39;__reduce__&#39;, &#39;__reduce_ex__&#39;, &#39;__repr__&#39;, &#39;__rfloordiv__&#39;, &#39;__rlshift__&#39;, &#39;__rmod__&#39;, &#39;__rmul__&#39;, &#39;__ror__&#39;, &#39;__round__&#39;, &#39;__rpow__&#39;, &#39;__rrshift__&#39;, &#39;__rshift__&#39;, &#39;__rsub__&#39;, &#39;__rtruediv__&#39;, &#39;__rxor__&#39;, &#39;__setattr__&#39;, &#39;__sizeof__&#39;, &#39;__str__&#39;, &#39;__sub__&#39;, &#39;__subclasshook__&#39;, &#39;__truediv__&#39;, &#39;__trunc__&#39;, &#39;__xor__&#39;, &#39;bit_length&#39;, &#39;conjugate&#39;, &#39;denominator&#39;, &#39;from_bytes&#39;, &#39;imag&#39;, &#39;numerator&#39;, &#39;real&#39;, &#39;to_bytes&#39;]
</code></pre></div></p> <p>Wow! There's a lot more to an integer than just a value. In lower level languages, like C, C++, or Java, primitive types refer to sections of memory, designated to contain a specifc value that can be directly manipulted in assembly code or even transistor level logic in CPUs. Python sits at a much higher abstraction level. Though python is slower than the aforementioned languages, the programmer doesn't have to deal with problems like overflow, underflow, or invalid type casting as all of this is abstracted away through objects. Some the attributes listed through <code>dir(int)</code> are class specific to <code>int</code>, and some are inherited from <code>object</code>. Let's see what attributes <code>object</code> by calling <code>dir</code> on the static type itself. <div class=highlight><pre><span></span><code>&gt;&gt;&gt; dir(object)
[&#39;__class__&#39;, &#39;__delattr__&#39;, &#39;__dir__&#39;, &#39;__doc__&#39;, &#39;__eq__&#39;, &#39;__format__&#39;, &#39;__ge__&#39;, &#39;__getattribute__&#39;, &#39;__gt__&#39;, &#39;__hash__&#39;, &#39;__init__&#39;, &#39;__init_subclass__&#39;, &#39;__le__&#39;, &#39;__lt__&#39;, &#39;__ne__&#39;, &#39;__new__&#39;, &#39;__reduce__&#39;, &#39;__reduce_ex__&#39;, &#39;__repr__&#39;, &#39;__setattr__&#39;, &#39;__sizeof__&#39;, &#39;__str__&#39;, &#39;__subclasshook__&#39;]
</code></pre></div></p> <p>By the end of this note, you should understand what most of the different attributes listed above do. But, with so many different types of objects we have to have some way of discerning between different types.</p> <div class="admonition note"> <p class=admonition-title>NotImplemented</p> <p>Python has one special object run globally called <code>NotImplemented</code>. It can be used when object's don't implement some of the default binary function attributes given to them by the <code>object</code> class. <code>type(NotImplemented) = &lt;class 'NotImplementedType'&gt;</code>.</p> </div> <h2 id=typing>Typing<a class=headerlink href=#typing title="Permanent link">&para;</a></h2> <p>Python provides a few built-in functions to help distinguish between objects of different types.</p> <p><code>type(arg)</code> : the <code>type</code> function returns a Type Object representing the type or class of its argument. For example: <div class=highlight><pre><span></span><code>&gt;&gt;&gt; type(int)
&lt;class &#39;type&#39;&gt;
&gt;&gt;&gt; type(type(int))
&lt;class &#39;type&#39;&gt;
</code></pre></div> Though this function returns the type of an object, there are built-in functions more specifically designed for comparing the types of two differnet objects.</p> <p>The first is the <code>isinstance(object, classInfo)</code> function. It takes in an object (can be static type or instance) as the first argument, and a tuple of types as the second parameter. For example: <div class=highlight><pre><span></span><code>&gt;&gt;&gt; n = 1.0
&gt;&gt;&gt; isinstance(n, int)
False
&gt;&gt;&gt; isinstance(n, (int, float))
True
</code></pre></div></p> <p><code>issubclass(class, classInfo)</code> is used less, but is useful for determining if a given class is a sub class of another. For example, <code>issubclass(int, object)</code> gives <code>True</code>.</p> <h3 id=none>None<a class=headerlink href=#none title="Permanent link">&para;</a></h3> <p>The <code>None</code> object represents, well, nothing. <code>None</code> is globally unique and is the only possible value of objects of type <code>None</code>.</p> <h2 id=how-objects-store-values>How objects store values<a class=headerlink href=#how-objects-store-values title="Permanent link">&para;</a></h2> <h3 id=__dict__><code>__dict__</code><a class=headerlink href=#__dict__ title="Permanent link">&para;</a></h3> <p>In Python, objects store all of their attributes in dictionary or dictionary like objects. The <code>vars</code> function lists all of the attributes in an objects <code>__dict__</code>. The result of a <code>vars</code> call differs if the argument is an object type or an object instance. When called on an object type, for example <code>vars(int)</code>, the output is very similar to that of dir (except it won't look at base classes), but it returns a protected dictionary called <code>mappingproxy</code> that contains attributes and their values pertinate to the static or class level attributes of a type. Calling <code>vars</code> on an instance returns the attributes pertinate to the instance. Here's an example to demonstrate:</p> <div class=highlight><pre><span></span><code>&gt;&gt;&gt; class Test(object):
...     static_val = 0
...     def test(self):
...         pass
... 
&gt;&gt;&gt; t = Test()
&gt;&gt;&gt; t.inst_val = 1
&gt;&gt;&gt; vars(Test)
mappingproxy({&#39;__module__&#39;: &#39;__main__&#39;, &#39;static_val&#39;: 0, &#39;test&#39;: &lt;function Test.test at 0x7f072c48d730&gt;, &#39;__dict__&#39;: &lt;attribute &#39;__dict__&#39; of &#39;Test&#39; objects&gt;, &#39;__weakref__&#39;: &lt;attribute &#39;__weakref__&#39; of &#39;Test&#39; objects&gt;, &#39;__doc__&#39;: None})
&gt;&gt;&gt; vars(t)
{&#39;inst_val&#39;: 1}
</code></pre></div> <div class="admonition note"> <p class=admonition-title>Note</p> <p>calling vars is essentially equivalent to accessing the <code>__dict__</code> attribute of an object type or an object instance). It's worth noting that some object instances, like those of type <code>int</code> do not actually have a <code>__dict__</code> attribute. This really only seems to apply to primitive-like or built-in types.</p> </div> <p>In fact, because Python objects store their values using the <code>__dict__</code> attribute, we can actually create very basic objects using the <code>type</code> function. By passing more parameters to the <code>type</code> function, it actually creates a new type object. The following are two identical ways of creating the same object.</p> <div class=highlight><pre><span></span><code>&gt;&gt;&gt; class X:
...     a = 1
...
&gt;&gt;&gt; X = type(&#39;X&#39;, (object,), dict(a=1))
</code></pre></div> <h3 id=getters-and-setters>Getters and Setters.<a class=headerlink href=#getters-and-setters title="Permanent link">&para;</a></h3> <p>Python additionally has a set of built in set of methods for getting, setting, and deleting attributes. The <code>object</code> base class has the following getter and setter methods which are wrapped by built-in python functions.</p> <table> <thead> <tr> <th>Object Method</th> <th>Built-in Function</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>object.__getattribute__('name')</code></td> <td><code>getattr(object, 'name')</code></td> <td>Gets attribute</td> </tr> <tr> <td><code>object.__setattr__('name', value)</code></td> <td><code>setattr(object, 'name', value)</code></td> <td>Sets attribute to value</td> </tr> <tr> <td><code>object.__delattr('name')</code></td> <td><code>delattr(object, 'name')</code></td> <td>Deletes attribute</td> </tr> <tr> <td>N/A</td> <td><code>hasattr(object, 'name')</code></td> <td>Checks if an object has an attribute.</td> </tr> </tbody> </table> <h2 id=mutable-vs-immutable-objects>Mutable vs Immutable Objects<a class=headerlink href=#mutable-vs-immutable-objects title="Permanent link">&para;</a></h2> <p>In Python, objects fit into one of two categories: mutable, or immutable. Immutable objects have to be copied in order to change, whereas mutable objects do not. Upon instantiation, every object in Python is assigned a unique ID that often corresponds to it's location in memory and can be accessed via the <code>id(obj)</code> method. Immutable objects derive their concepet of uniqueness from the values they contian, rather than their instantiation in memory. This means that if we change the value of an immutable object held by a variable, we are actually creating a new object and changing the variable to point at the new object. Here's an example:</p> <p><div class=highlight><pre><span></span><code>&gt;&gt;&gt; a = 0; id(a)
10968768
&gt;&gt;&gt; b = 1; id(b)
10968800
&gt;&gt;&gt; a +=1; id(a)
10968800
&gt;&gt;&gt; c = &quot;hi&quot;; id(c); d = &quot;hi&quot;; id(d)
140191817812880
140191817812880
</code></pre></div> Notice how on each assignment, the ID of each variable completely changes as it points to a new object. Primitive like types are immutable because of the speed benefits an immutable object offers. As primitive objects are not large or complex, we do not incur a large cost when copying or re-instantiating them upon changing a value. Additionally, <em>passing immutable types to functions is always safe</em>, as we can't actually modify the underlying object is a variable is pointing to. </p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>ID's will not always be the same for the "same" immutable object. For example, if we execute <code>a = "hi"; b = "h"; b += "i"</code>, <code>id(a)</code> and <code>id(b)</code> will not be the same. This is because we don't recheck memory to determine if the same string has already been used and instead just allocate new space for the new string. </p> </div> <p><strong>The following are Immutable in Python</strong>: int, float, complex, string, tuple, frozen set, bytes</p> <p>Every other object is mutable. Mutable objects are not copied and are instead modified in place. This means that operations on mutable types can be unsafe when passed to functions as the function is able to change the underlying object. For example,</p> <div class=highlight><pre><span></span><code>&gt;&gt;&gt; a = [1]; id(a)
140191817820232
&gt;&gt;&gt; b = [1, 2]; id(b)
140191817818952
&gt;&gt;&gt; a.append(2); id(a)
140191817820232
</code></pre></div> <h3 id=is-vs>is vs ==<a class=headerlink href=#is-vs title="Permanent link">&para;</a></h3> <p>The python <code>is</code> operator simply compares the <code>id</code> of the two objects, or does an integer comparison <code>id(a) == id(b)</code>. The <code>==</code> operator on the other hand, calls the special <code>__eq__</code> comparison operator defined between objects. Unless overrided, this defaults to simply doing the same id comparison as <code>is</code>. Thus, unless the <code>__eq__</code> method is specified, <code>==</code> comparisons between custom objects in Python won't behave as expected.</p> <h3 id=a-tricky-example>A Tricky Example<a class=headerlink href=#a-tricky-example title="Permanent link">&para;</a></h3> <p>In Python, tuples are a basic immutable data type that represent a fixed length of fixed values. Let's look at a complicated example using tuples to drive mutability vs immutability home.</p> <div class=highlight><pre><span></span><code>&gt;&gt;&gt; a, b = (0, [1, 2]) , (0, [1, 2])
&gt;&gt;&gt; a == b; id(a) == id(b)
True
False
</code></pre></div> <p>What happened here? Even though the tuples look identical, they are actually different! This is because the list created for <code>a</code> and the list created for <code>b</code> are actually distinct, different objects as they are mutable. When we check <code>a == b</code>, the <code>__eq__</code> function is called recursively on all the members of the two tuples, thus showing they are equal, but the IDs of the two tuples are different because they were created with different list objects. If we instantiated them with the same list, they would have the same id. <code>l = [1, 2]; id( (0, l) ) == id( (0, l) )</code> yeilds True.</p> <h2 id=type-casting-in-python>Type Casting In Python<a class=headerlink href=#type-casting-in-python title="Permanent link">&para;</a></h2> <p>One consequence of all of the object model is that Python really does not have "casting" in the traditional sense. When you convert a <code>int</code> to a <code>float</code> by running something along the lines of <code>float(n)</code>, a specific verison of the <code>float</code> constructor is actually called that takes in an argument. A new object is then created based off of the parameter. Thus, when you type cast, you are really just initializing a new object. </p> <h2 id=special-object-functions-and-operators>Special Object Functions and Operators<a class=headerlink href=#special-object-functions-and-operators title="Permanent link">&para;</a></h2> <p>In order to enable consistent usage across all of the different objects in Python, they all utilize the same special methods denoted with two underscores on either side <code>__func__</code>. Overriding these objects in your own implementations can lead to neat and concise code for complex functions. They can be overriden by defining the <code>__func__(self, [args])</code> function within an object. These functions are often refered to as "magic" functions. Ommited from this list are the getter and setter attributes discussed previously in this section and other attributes that are more specific to different types of data structures.</p> <table> <thead> <tr> <th>Attribute</th> <th>Built-In Accesor</th> <th>Descripton</th> </tr> </thead> <tbody> <tr> <td><code>__new__</code></td> <td>N/A</td> <td>Called when creating a new instance of an object</td> </tr> <tr> <td><code>__init__</code></td> <td>N/A</td> <td>Called when instantiating a new instance of an object, after <code>__new__</code></td> </tr> <tr> <td><code>__class__</code></td> <td><code>type(obj)</code></td> <td>Returns the type of a given object.</td> </tr> <tr> <td><code>__str__</code></td> <td>str(obj)</td> <td>Converts object to a string. This is called when printed.</td> </tr> <tr> <td><code>__repr__</code></td> <td>repr(obj)</td> <td>Returns a representation of the object used in the python shell.</td> </tr> <tr> <td><code>__doc__</code></td> <td>`help(obj)</td> <td>Gives documentation for the given type.</td> </tr> <tr> <td><code>__hash__</code></td> <td><code>hash(obj)</code></td> <td>Custom hash function for the object.</td> </tr> <tr> <td><code>__get__</code></td> <td>N/A</td> <td>Invoked every time an object is accessed. Used by function objects to make them callable. Similar definition for <code>__set__</code></td> </tr> <tr> <td><code>__eq__</code></td> <td><code>==</code></td> <td>Provides comparison binary operator. Other comaprison operators are <code>__lt__</code>, <code>__le__</code>, <code>__ne__</code>, <code>__ge__</code>, <code>__gt__</code></td> </tr> <tr> <td><code>__add__</code></td> <td><code>add(a, b), +</code></td> <td>Overrides math functionality. Others are <code>__sub__</code>, <code>__mul__</code>, <code>__abs__</code>, <code>__floordiv__</code>, <code>__truediv__</code>, <code>__pow__</code>, etc.</td> </tr> <tr> <td><code>__getitem__</code></td> <td><code>object[ind]</code></td> <td>Returns value of an object at a certain index</td> </tr> <tr> <td><code>__and__</code></td> <td><code>and</code></td> <td>Returns logical and. Other logical operators are <code>__or__</code>, <code>__not__</code>, <code>__xor__</code>, <code>__lshift__</code>, etc.</td> </tr> <tr> <td><code>__contains__</code></td> <td><code>val in obj</code></td> <td>Checks to see if an object contains a value using <code>in</code> keyword.</td> </tr> <tr> <td><code>__next__</code></td> <td><code>next(obj)</code></td> <td>yeilds next value of an object</td> </tr> <tr> <td><code>__yield__</code></td> <td><code>iter(obj), for _ in obj</code></td> <td>returns an iterator over the values of the object</td> </tr> </tbody> </table> <p>You can find more operator attributes at this link: <a href=https://docs.python.org/3/library/operator.html>https://docs.python.org/3/library/operator.html</a></p> <h2 id=sources-and-further-reading>Sources and Further Reading<a class=headerlink href=#sources-and-further-reading title="Permanent link">&para;</a></h2> <p><a href=https://docs.python.org/3.7/reference/datamodel.html>https://docs.python.org/3.7/reference/datamodel.html</a> <a href=https://docs.python.org/3/library/functions.html>https://docs.python.org/3/library/functions.html</a> <a href=https://docs.python.org/3/library/constants.html>https://docs.python.org/3/library/constants.html</a> <a href=https://docs.python.org/3/library/stdtypes.html>https://docs.python.org/3/library/stdtypes.html</a></p> </article> </div> </div> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../ class="md-footer__link md-footer__link--prev" aria-label="Previous: 0. About Python" rel=prev> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </div> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Previous </span> 0. About Python </div> </div> </a> <a href=../2syntax/ class="md-footer__link md-footer__link--next" aria-label="Next: 2. Syntax" rel=next> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Next </span> 2. Syntax </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2021 Joey Hejna </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://github.com/jhejna target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33.85 0 1.71.11 2.5.33 1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2z"/></svg> </a> <a href=https://linkedin.com/in/jhejna target=_blank rel=noopener title=linkedin.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 3a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14m-.5 15.5v-5.3a3.26 3.26 0 0 0-3.26-3.26c-.85 0-1.84.52-2.32 1.3v-1.11h-2.79v8.37h2.79v-4.93c0-.77.62-1.4 1.39-1.4a1.4 1.4 0 0 1 1.4 1.4v4.93h2.79M6.88 8.56a1.68 1.68 0 0 0 1.68-1.68c0-.93-.75-1.69-1.68-1.69a1.69 1.69 0 0 0-1.69 1.69c0 .93.76 1.68 1.69 1.68m1.39 9.94v-8.37H5.5v8.37h2.77z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../../..", "features": ["tabs"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../../../assets/javascripts/workers/search.0bbba5b5.min.js"}</script> <script src=../../../assets/javascripts/bundle.e1a181d9.min.js></script> <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script> </body> </html>